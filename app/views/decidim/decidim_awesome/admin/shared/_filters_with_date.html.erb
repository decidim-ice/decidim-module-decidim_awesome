<%= search_form_for(query, url: url_for, html: { class: "form form-defaults mb-4 filters__section admin-accountability-filters" }) do |form| %>
  <%= hidden_field_tag :admins, params[:admins] %>
  <div class="admin-accountability-filters__grid">
    <div class="relative flex-shrink-0">
      <div class="invisible h-0">&nbsp;</div>
      <% dropdown_id = "top-#{SecureRandom.uuid}" %>
      <button type="button" class="button button__sm button__transparent-secondary h-10" data-controller="dropdown" data-target="dropdown-filters-<%= dropdown_id %>">
        <%= t("filter_label", scope: "decidim.admin.filters") %>
        <%= icon "arrow-down-s-line" %>
        <%= icon "arrow-down-s-line" %>
      </button>
      <%= dropdown_submenu(submenu_options_tree(i18n_ctx), dropdown_id) %>
    </div>

    <div class="flex-grow">
      <%= form.search_field(
            search_field_predicate,
            label: t("decidim.search.term_input_placeholder"),
            help_text: false
          ) %>
    </div>

    <div>
      <%= form.date_field(:created_at_gteq, label: t("search_field_start_date", scope: "decidim.admin.filters.label")) %>
    </div>

    <div>
      <%= form.date_field(:created_at_lteq, label: t("search_field_end_date", scope: "decidim.admin.filters.label")) %>
    </div>

    <div class="flex-shrink-0">
      <div class="invisible h-0">&nbsp;</div>
      <button type="submit" class="button button__sm button__secondary h-10 w-10 p-0 flex items-center justify-center" aria-label="<%= t("decidim.search.term_input_placeholder") %>">
        <%= icon "search-line", class: "!fill-white w-4 h-4" %>
      </button>
    </div>
  </div>
<% end %>
<div class="mb-4 flex items-center gap-2" data-applied-filters-tags>
  <%= applied_filters_tags(i18n_ctx) %>
</div>
