<div class="constraints-editor" data-key="<%= key %>">
  <div class="callout" style="display:none" data-closable>
    <p></p>
    <button class="close-button" aria-label="Dismiss alert" type="button" data-close>
      <span aria-hidden="true">&times;</span>
    </button>
  </div>

  <h5><%= t ".title" %></h5>
  <% if constraints.blank? %>
    <span class="label warning"><%= t ".always" %></span>
  <% end %>

  <ul class="constraints-list<%= " inactive" if constraints&.detect{|c| c.settings["participatory_space_manifest"]=="none" } %>">
    <% constraints&.each do |constraint| %>
        <li>
            <% constraint.settings.reverse_each do |k, val| %>
              <span class="label <%= k %> constraint-<%= val %>"><%= translate_constraint_value constraint, k %></span>
            <% end %>
            <button id="<%= "edit-#{key}" %>"  type="button" name="button" class="edit-condition" data-dialog-open="<%= "edit-modal-#{key}" %>" data-dialog-remote-url="<%= constraint_path(id: constraint.id, key: key) %>">
              <%= t ".edit" %>
            </button>
            <%= decidim_modal id: "edit-modal-#{key}", class: "decidim_awesome modal", remote: true %>
          <%= link_to t(".delete"), constraint_path(id: constraint.id), remote: true, method: :delete %>
        </li>
      <% end %>
  </ul>
  <button id="<%= "new-#{key}" %>" type="button" name="button" class="add-condition" data-dialog-open="<%= "new-modal-#{key}" %>" data-dialog-remote-url="<%= new_constraint_path(key: key) %>">
    <%= t ".add_condition" %>
  </button>
  <%= decidim_modal id: "new-modal-#{key}", class: "decidim_awesome modal", remote: true %>
</div>
